{"version":3,"sources":["admin/modules/common/components/CopyRight.tsx","hooks/api/keycloak/useGetToken.ts","landing/modules/login/components/EmailField.tsx","landing/modules/login/components/PageTitle.tsx","landing/modules/login/components/PasswordField.tsx","landing/modules/login/components/RedirectOptions.tsx","landing/modules/login/components/SigninButton.tsx","landing/modules/login/Login.tsx","landing/modules/Main.tsx","hooks/api/useApiResult.ts"],"names":["Copyright","variant","color","align","href","Date","getFullYear","getToken","loginModel","urlParams","URLSearchParams","process","username","password","method","body","useGetToken","request","useMemo","undefined","useApiResult","EmailField","register","TextField","margin","required","fullWidth","id","label","autoComplete","autoFocus","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","Pagetitle","classes","className","Avatar","Typography","component","PasswordField","type","FormControlLabel","control","Checkbox","value","RedirectOptions","Grid","container","item","xs","Link","submit","SignInButton","Button","form","width","Login","useState","login","setLogin","access","error","useContext","TokenContext","token","setToken","console","log","useForm","handleSubmit","watch","useEffect","PageTitle","noValidate","onSubmit","submitLogin","Main","Container","maxWidth","CssBaseline","Box","mt","results","setResults","setError","requester","useRequest","isCancelled","then","response","a","ok","json","text","catch","err","message"],"mappings":"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","file":"static/js/7.7494b936.chunk.js","sourcesContent":["import Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport React from \"react\";\n\nconst Copyright = () => {\n    return (\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {'Copyright Â© '}\n        <Link color=\"inherit\" href=\"https://material-ui.com/\">\n         CMS Admin \n        </Link>{' '}\n        {new Date().getFullYear()}\n        {'.'}\n      </Typography>\n    );\n  }\n  \nexport default Copyright;\n","import { useMemo } from \"react\";\nimport { LoginModel } from \"../../../landing/modules/login/model/Login\";\nimport { IRequest } from \"../../../providers/request/Request\";\nimport useApiResult from \"../useApiResult\";\n\nconst useGetToken = (loginModel?: LoginModel) => {\n\n    const request = useMemo(() => loginModel ? getToken(loginModel) : undefined, [loginModel]);\n    return useApiResult(request);\n};\n\n\nconst getToken = (loginModel: LoginModel): IRequest => {\n    const urlParams = new URLSearchParams({\n        \"client_id\": process.env.REACT_APP_KEYCLOAK_API_CLIENT_ID!,\n        \"client_secret\": process.env.REACT_APP_KEYCLOAK_API_CLIENT_SECRET!,\n        \"grant_type\": process.env.REACT_APP_KEYCLOAK_API_GRANT_TYPE_PASSWORD!,\n        \"username\": loginModel.username,\n        \"password\": loginModel.password\n    });\n\n    return [\n        `${process.env.REACT_APP_KEYCLOAK_API_BASE_URL}/auth/realms/${process.env.REACT_APP_KEYCLOAK_API_REALM}/protocol/openid-connect/token`,\n        {\n            method: \"POST\",\n            body: urlParams\n            /*\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n            },\n            body: [\n                `client_id=${process.env.REACT_APP_KEYCLOAK_API_CLIENT_ID}`,\n                `client_secret=${process.env.REACT_APP_KEYCLOAK_API_CLIENT_SECRET}`,\n                `grant_type=${process.env.REACT_APP_KEYCLOAK_API_GRANT_TYPE_PASSWORD}`,\n                `username=${loginModel.username}`,\n                `password=${loginModel.password}`,\n            ].join(\"&\")\n            */\n        },\n    ];\n};\n\nexport default useGetToken;","import TextField from \"@material-ui/core/TextField\";\nimport { UseFormRegister } from \"react-hook-form\";\nimport { LoginModel } from \"../model/Login\";\n\nconst EmailField = ({\n  register,\n}: {\n  register: UseFormRegister<LoginModel>;\n}) => {\n  return (\n    <TextField\n      variant=\"outlined\"\n      margin=\"normal\"\n      required\n      fullWidth\n      id=\"username\"\n      label=\"Email Address\"\n      autoComplete=\"username\"\n      autoFocus\n      {...register(\"username\")}\n    />\n  );\n};\n\nexport default EmailField;\n","import Avatar from \"@material-ui/core/Avatar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n}));\n\nconst Pagetitle = () => {\n  const classes = useStyles();\n  return (\n    <div className={classes.paper}>\n      <Avatar className={classes.avatar}>\n        <LockOutlinedIcon />\n      </Avatar>\n      <Typography component=\"h1\" variant=\"h5\">\n        Sign in\n      </Typography>\n    </div>\n  );\n};\n\nexport default Pagetitle;\n","import Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { UseFormRegister } from \"react-hook-form\";\nimport { LoginModel } from \"../model/Login\";\n\nconst PasswordField = ({\n  register,\n}: {\n  register: UseFormRegister<LoginModel>;\n}) => {\n  return (\n    <div>\n      <TextField\n        variant=\"outlined\"\n        margin=\"normal\"\n        required\n        fullWidth\n        label=\"Password\"\n        type=\"password\"\n        id=\"password\"\n        autoComplete=\"current-password\"\n        {...register(\"password\")}\n      />\n      <FormControlLabel\n        control={<Checkbox value=\"remember\" color=\"primary\" />}\n        label=\"Remember me\"\n      />\n    </div>\n  );\n};\n\nexport default PasswordField;\n","import Grid from \"@material-ui/core/Grid\";\nimport Link from \"@material-ui/core/Link\";\n\nconst RedirectOptions = () => {\n  return (\n    <Grid container>\n      <Grid item xs>\n        <Link href=\"#\" variant=\"body2\">\n          Forgot password?\n        </Link>\n      </Grid>\n      <Grid item>\n        <Link href=\"#\" variant=\"body2\">\n          {\"Don't have an account? Sign Up\"}\n        </Link>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default RedirectOptions;\n","import Button from \"@material-ui/core/Button\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nconst useStyles = makeStyles((theme) => ({\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst SignInButton = () => {\n  const classes = useStyles();\n\n  return (\n    <Button\n      type=\"submit\"\n      fullWidth\n      variant=\"contained\"\n      color=\"primary\"\n      className={classes.submit}\n    >\n      Sign In\n    </Button>\n  );\n};\n\nexport default SignInButton;\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport useGetToken from \"../../../hooks/api/keycloak/useGetToken\";\nimport { TokenContext } from \"../../../providers/token/TokenProvider\";\nimport EmailField from \"./components/EmailField\";\nimport PageTitle from \"./components/PageTitle\";\nimport PasswordField from \"./components/PasswordField\";\nimport RedirectOptions from \"./components/RedirectOptions\";\nimport SignInButton from \"./components/SigninButton\";\nimport { LoginModel } from \"./model/Login\";\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n}));\n\nconst Login = () => {\n  const classes = useStyles();\n  const [login, setLogin] = useState<LoginModel>();\n  const [access, error] = useGetToken(login);\n  const [token, setToken] = useContext(TokenContext);\n  console.log(access, error);\n  const { register, handleSubmit, watch } = useForm<LoginModel>();\n  const onSubmit = (submitLogin: LoginModel) => {\n    console.log(submitLogin, token);\n    setLogin(submitLogin);\n  };\n\n  useEffect(() => {\n    setToken(access);\n  }, [access, setToken]);\n\n  console.log(watch(\"username\"));\n\n  return (\n    <div>\n      <PageTitle />\n      <form\n        className={classes.form}\n        noValidate\n        onSubmit={handleSubmit(onSubmit)}\n      >\n        <EmailField register={register} />\n        <PasswordField register={register} />\n        <SignInButton />\n        <RedirectOptions />\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import Box from \"@material-ui/core/Box\";\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport React from \"react\";\nimport Copyright from \"../../admin/modules/common/components/CopyRight\";\nimport Login from \"./login/Login\";\n\nconst Main = () => {\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <Login />\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n};\n\nexport default Main;\n","import { useEffect, useState } from \"react\";\nimport { IRequest } from \"../../providers/request/Request\";\nimport { useRequest } from \"../../providers/request/RequestProvider\";\n\nconst useApiResult = (request?: IRequest) => {\n    const [results, setResults] = useState(null);\n    const [error, setError] = useState<any>(null);\n    const requester = useRequest();\n\n    useEffect(() => {\n        let isCancelled = false;\n        if (request === undefined) {\n            setResults(null);\n            return;\n        }\n        requester(request).then(async (response: Response) => {\n            if (isCancelled) {\n                return;\n            }\n            if (response.ok) {\n                setResults(await response.json());\n                setError(null);\n            } else {\n                setError(await response.text());\n            }\n        }).catch((err) => {\n            setError(err.message);\n        });\n        return () => {\n            isCancelled = true;\n        };\n    }, [request, requester]);\n    return [results, error];\n};\n\nexport default useApiResult;\n"],"sourceRoot":""}